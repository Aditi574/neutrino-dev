
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Upgrading from v5 to v6 Â· Neutrino</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-npmsearchlist/styles.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="cli/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="usage.html">
            
                <a href="usage.html">
            
                    
                    Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="project-layout.html">
            
                <a href="project-layout.html">
            
                    
                    Project Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="FAQ.html">
            
                <a href="FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="presets/">
            
                <a href="presets/">
            
                    
                    Presets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="presets/neutrino-preset-web/">
            
                <a href="presets/neutrino-preset-web/">
            
                    
                    Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="presets/neutrino-preset-react/">
            
                <a href="presets/neutrino-preset-react/">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="presets/neutrino-preset-node/">
            
                <a href="presets/neutrino-preset-node/">
            
                    
                    Node.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="presets/neutrino-preset-airbnb-base/">
            
                <a href="presets/neutrino-preset-airbnb-base/">
            
                    
                    Airbnb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="presets/neutrino-preset-karma/">
            
                <a href="presets/neutrino-preset-karma/">
            
                    
                    Karma
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="presets/neutrino-preset-mocha/">
            
                <a href="presets/neutrino-preset-mocha/">
            
                    
                    Mocha
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="presets/neutrino-preset-jest/">
            
                <a href="presets/neutrino-preset-jest/">
            
                    
                    Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="presets/community-presets.html">
            
                <a href="presets/community-presets.html">
            
                    
                    Community presets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="middleware/">
            
                <a href="middleware/">
            
                    
                    Middleware
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="middleware/neutrino-middleware-banner/">
            
                <a href="middleware/neutrino-middleware-banner/">
            
                    
                    banner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="middleware/neutrino-middleware-chunk/">
            
                <a href="middleware/neutrino-middleware-chunk/">
            
                    
                    chunk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="middleware/neutrino-middleware-clean/">
            
                <a href="middleware/neutrino-middleware-clean/">
            
                    
                    clean
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="middleware/neutrino-middleware-compile-loader/">
            
                <a href="middleware/neutrino-middleware-compile-loader/">
            
                    
                    compile-loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="middleware/neutrino-middleware-copy/">
            
                <a href="middleware/neutrino-middleware-copy/">
            
                    
                    copy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="middleware/neutrino-middleware-env/">
            
                <a href="middleware/neutrino-middleware-env/">
            
                    
                    env
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="middleware/neutrino-middleware-eslint/">
            
                <a href="middleware/neutrino-middleware-eslint/">
            
                    
                    eslint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="middleware/neutrino-middleware-font-loader/">
            
                <a href="middleware/neutrino-middleware-font-loader/">
            
                    
                    font-loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="middleware/neutrino-middleware-hot/">
            
                <a href="middleware/neutrino-middleware-hot/">
            
                    
                    hot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="middleware/neutrino-middleware-html-loader/">
            
                <a href="middleware/neutrino-middleware-html-loader/">
            
                    
                    html-loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="middleware/neutrino-middleware-html-template/">
            
                <a href="middleware/neutrino-middleware-html-template/">
            
                    
                    html-template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="middleware/neutrino-middleware-image-loader/">
            
                <a href="middleware/neutrino-middleware-image-loader/">
            
                    
                    image-loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="middleware/neutrino-middleware-loader-merge/">
            
                <a href="middleware/neutrino-middleware-loader-merge/">
            
                    
                    loader-merge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="middleware/neutrino-middleware-minify/">
            
                <a href="middleware/neutrino-middleware-minify/">
            
                    
                    minify
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="middleware/neutrino-middleware-pwa/">
            
                <a href="middleware/neutrino-middleware-pwa/">
            
                    
                    pwa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="middleware/neutrino-middleware-start-server/">
            
                <a href="middleware/neutrino-middleware-start-server/">
            
                    
                    start-server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="middleware/neutrino-middleware-style-loader/">
            
                <a href="middleware/neutrino-middleware-style-loader/">
            
                    
                    style-loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.18" data-path="middleware/community-middleware.html">
            
                <a href="middleware/community-middleware.html">
            
                    
                    Community middleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="customization/">
            
                <a href="customization/">
            
                    
                    Customization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="creating-presets.html">
            
                <a href="creating-presets.html">
            
                    
                    Creating presets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="learning-resources.html">
            
                <a href="learning-resources.html">
            
                    
                    Learning Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="api/">
            
                <a href="api/">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="cli/">
            
                <a href="cli/">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="upgrading-neutrino.html">
            
                <a href="upgrading-neutrino.html">
            
                    
                    Upgrading from v5 to v6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <a target="_blank" href="https://github.com/mozilla-neutrino/neutrino-dev/tree/docs-v5/docs">
            
                    
                    v5 Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <a target="_blank" href="https://github.com/mozilla-neutrino/neutrino-dev/tree/docs-v4/docs">
            
                    
                    v4 Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="contributing/">
            
                <a href="contributing/">
            
                    
                    Contributing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="contributing/development.html">
            
                <a href="contributing/development.html">
            
                    
                    Development Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="contributing/code-of-conduct.html">
            
                <a href="contributing/code-of-conduct.html">
            
                    
                    Code of Conduct
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Upgrading from v5 to v6</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="upgrading-from-neutrino-v5-to-v6">Upgrading from Neutrino v5 to v6</h1>
<p>Neutrino v6 introduces a number of changes, with some of them being breaking changes. To upgrade from Neutrino v5
to v6, be sure to check this list for tasks you may need to perform to use this latest version:</p>
<ul>
<li><strong>BREAKING CHANGE</strong> Neutrino overrides and configuration is no longer done from package.json, but can automatically
be picked up in a <code>.neutrinorc.js</code> file. If you want to leave your configuration in package.json until
you migrate completely to the RC file, put the following contents in your <code>.neutrinorc.js</code> file:</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> pkg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;./package.json&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  options<span class="token punctuation">:</span> pkg<span class="token punctuation">.</span>neutrino<span class="token punctuation">.</span>options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span><span class="token punctuation">(</span>pkg<span class="token punctuation">.</span>neutrino<span class="token punctuation">.</span>use <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    neutrino <span class="token operator">=</span><span class="token operator">&gt;</span> neutrino<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>pkg<span class="token punctuation">.</span>neutrino<span class="token punctuation">.</span>config <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>See the documentation on <code>.neutrinorc.js</code> for more details on overriding configuration.</p>
<ul>
<li><strong>BREAKING CHANGE</strong> The Web and React presets no longer include a polyfill for <code>Buffer</code>. This saves approximately 60KB
of polyfills from being loaded, at the expense of using the <code>Buffer</code> constructor. If you need the <code>Buffer</code>
constructor or a dependency relies on it, you can override the configuration in <code>.neutrinorc.js</code>:</li>
</ul>
<pre class="language-"><code class="lang-js">neutrino<span class="token punctuation">.</span>config<span class="token punctuation">.</span>node<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&apos;Buffer&apos;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li><strong>BREAKING CHANGE</strong> Neutrino no longer relies on <code>HOST</code>, <code>PORT</code>, and <code>HTTPS</code> environment variables for overriding
the webpack-dev-server settings, respectively. You can choose to either override these from <code>.neutrinorc.js</code> or
a one-off basis using CLI options:</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token comment" spellcheck="true">// Override a preset/middleware:</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&apos;neutrino-preset-react&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        host<span class="token punctuation">:</span> <span class="token string">&apos;192.168.1.10&apos;</span><span class="token punctuation">,</span>
        port<span class="token punctuation">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
        https<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token comment" spellcheck="true">// Override all presets:</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">&apos;192.168.1.10&apos;</span><span class="token punctuation">,</span>
    port<span class="token punctuation">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    https<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-bash"><span class="token comment" spellcheck="true"># Override from CLI</span>
neutrino start --options.host 192.168.1.10 --options.port 3000 --options.https
</code></pre>
<ul>
<li><strong>BREAKING CHANGE</strong> Setting <code>host</code> of <code>0.0.0.0</code> for webpack-dev-server is insecure and will not work properly. This
is from <a href="https://github.com/webpack/webpack-dev-server/issues/887" target="_blank">https://github.com/webpack/webpack-dev-server/issues/887</a> causing a potential security issue into Webpack
users&apos; machines. When using <code>host</code>, specify your actual local IP address, and Neutrino will bind it to the <code>public</code>
property of webpack-dev-server and set the host to <code>0.0.0.0</code> for you. Attempting to access the site from a host other
than specified will result in an invalid host header error.</li>
</ul>
<p>Should you absolutely need to access the site from any potential host, for example if behind a proxy or firewall,
override from <code>.neutrinorc.js</code>:</p>
<pre class="language-"><code class="lang-js"><span class="token comment" spellcheck="true">// Override a preset/middleware</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&apos;neutrino-preset-react&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        disableHostCheck<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Override configuration</span>
neutrino<span class="token punctuation">.</span>config<span class="token punctuation">.</span>devServer<span class="token punctuation">.</span><span class="token function">disableHostCheck</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li><p><strong>BREAKING CHANGE</strong> The chunk middleware no longer includes a plugin named <code>&quot;chunk&quot;</code>, and instead exposes several
plugins which handle different chunking mechanisms: <code>named-modules</code>, <code>named-chunks</code>, <code>vendor-chunk</code>, <code>runtime-chunk</code>,
and <code>name-all</code>.</p>
</li>
<li><p><strong>BREAKING CHANGE</strong> With the changes in chunk middleware, there is no longer a named-modules middleware for v6 since
this now comes with the chunk middleware.</p>
</li>
<li><p><strong>BREAKING CHANGE</strong> All non-JS assets within your source directory are not automatically copied to the output
directory. A new Neutrino option for <code>static</code> now specifies a directory for all non-compiled/included assets, and this
defaults to <code>src/static</code>. For example, if you wanted to include some images into the build that are not <code>import</code>ed into
your project, you can place them in <code>src/static</code> and they will be automatically copied to <code>build/static</code>.</p>
</li>
<li><p><strong>BREAKING CHANGE</strong> The <code>run</code> function from Neutrino&apos;s exports has been removed in favor of a <code>run</code> method on the API.</p>
</li>
<li><p><strong>BREAKING CHANGE</strong> The <code>build</code>, <code>start</code>, <code>test</code>, and <code>inspect</code> functions from Neutrino&apos;s exports no longer
instantiate the Neutrino API, but are now functions that are passed to the Neutrino API&apos;s <code>run</code> method. For example, to
run the <code>build</code> function, you can pass it via:</p>
</li>
</ul>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> Neutrino<span class="token punctuation">,</span> build <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;neutrino&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">Neutrino</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">&apos;build&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>middleware<span class="token punctuation">]</span><span class="token punctuation">,</span> build<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">fork</span><span class="token punctuation">(</span>errorHandler<span class="token punctuation">,</span> successHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>See the <a href="api">Neutrino API</a> for details on the updated API.</p>
<ul>
<li><strong>BREAKING CHANGE</strong> Since the Neutrino API has changed, creating a <code>.eslintrc.js</code> file has also changed. If you have
your middleware defined in <code>.neutrinorc.js</code>, your <code>.eslintrc.js</code> file can be as simple as:</li>
</ul>
<pre class="language-"><code class="lang-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;neutrino/src/api&apos;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&apos;eslintrc&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>For a more verbose example version without <code>.neutrinorc.js</code>:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> Neutrino <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;neutrino&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token function">Neutrino</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&apos;eslintrc&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&apos;neutrino-preset-airbnb-base&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;neutrino-preset-react&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>BREAKING CHANGE</strong> An empty object is no longer passed as options to middleware if no options have been specified.</p>
<p><strong>Dependency potential BREAKING CHANGES:</strong></p>
<ul>
<li><code>babel-core</code> upgraded to v7.0.0</li>
<li><code>file-loader</code> upgraded to v0.11.2</li>
<li><code>file-loader</code> removed from <code>html-loader</code> middleware, switched to <code>html-loader</code></li>
<li><code>babili-webpack-plugin</code> upgraded to v0.1.1</li>
<li><code>css-loader</code> upgraded to v0.28.4</li>
<li><code>style-loader</code> upgraded to v0.18.2</li>
<li><code>jest</code> upgraded to v20.0.3</li>
<li><code>react-hot-loader</code> upgraded to v3.0.0-beta.7</li>
</ul>
<ul>
<li>Async polyfills are now using fast-async instead of Babel&apos;s regenerator. The reasoning is explained in the
<a href="https://github.com/MatAtBread/fast-async" target="_blank">fast-async README</a>:</li>
</ul>
<blockquote>
<p>&apos;fast-async&apos; is a Babel v6.x.x plugin that implements the ES7 keywords async and await using syntax transformation
at compile-time, rather than generators. The main reason for using &apos;fast-async&apos; as opposed to Babel&apos;s default
implementation of async/await is performance (<a href="https://github.com/MatAtBread/nodent#performance" target="_blank">https://github.com/MatAtBread/nodent#performance</a>) - it&apos;s 3-4 times faster
in a browser/node, and as much as 10 times faster on a mobile browsers, mainly due to avoiding generators
(and therefore regenerator).</p>
</blockquote>
<p>If you wish to disable the fast-async polyfill, you can specify it to the Web, React, and Node.js presets from
your <code>.neutrinorc.js</code>:</p>
<pre class="language-"><code class="lang-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&apos;neutrino-preset-web&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      polyfills<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">async</span><span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><p>The React preset is now additionally Babel-compiled with <code>transform-class-properties</code>, and during <code>development</code> also
includes <code>transform-es2015-classes</code> to work around <a href="https://github.com/gaearon/react-hot-loader/issues/313" target="_blank">https://github.com/gaearon/react-hot-loader/issues/313</a>.</p>
</li>
<li><p>The Node.js preset, start-server middleware, and babel-preset-env in any middleware can be debugged with the <code>--debug</code>
CLI flag or the Neutrino option <code>debug</code>.</p>
</li>
<li><p>The Node.js preset now compiles Babel to support Node.js LTS which has moved to v6.10 from v6.9.</p>
</li>
<li><p>Babel compiles using a <code>cacheDirectory</code> to improve subsequent build times.</p>
</li>
<li><p>The Neutrino API now exposes generic <code>prerun</code> and <code>run</code> events which are triggered prior to at any command
running, e.g. running <code>neutrino build</code> will trigger a <code>prebuild</code>, <code>prerun</code>, <code>build</code>, and <code>run</code> events.</p>
</li>
<li><p>The ESLint middleware now defaults to a <code>development</code> NODE_ENV if none is specified.</p>
</li>
<li><p>Configuration can now more easily be overridden based on the values of environment variables from <code>.neutrinorc.js</code>
using the <code>env</code> property. Each property within <code>env</code> maps to an environment variable with key-values mapping to 
environment values which contain further middleware. This works for any environment variable, not just <code>NODE_ENV</code>.
For example, if you wanted to include additional middleware when <code>NODE_ENV</code> is <code>production</code>:</p>
</li>
</ul>
<pre class="language-"><code class="lang-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  env<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    NODE_ENV<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      production<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&apos;neutrino-middleware-pwa&apos;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="cli/" class="navigation navigation-prev navigation-unique" aria-label="Previous page: CLI">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Upgrading from v5 to v6","level":"1.13","depth":1,"next":{"title":"v5 Documentation","level":"1.14","depth":1,"url":"https://github.com/mozilla-neutrino/neutrino-dev/tree/docs-v5/docs","ref":"https://github.com/mozilla-neutrino/neutrino-dev/tree/docs-v5/docs","articles":[]},"previous":{"title":"CLI","level":"1.12","depth":1,"path":"cli/README.md","ref":"./cli/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","prism","-highlight","github","anchorjs","npmsearchlist"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/mozilla-neutrino/neutrino-dev/"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"npmsearchlist":{},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit page","base":"https://github.com/mozilla-neutrino/neutrino-dev/tree/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Neutrino","gitbook":"*"},"file":{"path":"upgrading-neutrino.md","mtime":"2017-09-25T14:56:01.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-09-25T14:56:12.652Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-npmsearchlist/script.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

